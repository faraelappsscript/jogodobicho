<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRIE UMA IMAGEM DE DIVULGAÇÃO - 77x Brasil</title>
    
    <!-- Carregamento de dependências -->
    <link rel="preload" href="/assets/fonts/inter.css" as="style">
    <link rel="stylesheet" href="/assets/fonts/inter.css">
    <link rel="preload" href="/assets/fonts/jetbrains-mono.css" as="style">
    <link rel="stylesheet" href="/assets/fonts/jetbrains-mono.css">
    <link rel="preload" href="/theme.css" as="style">
    <link rel="stylesheet" href="/theme.css">
    
    <!-- ESTILOS PERSONALIZADOS PARA ESTA PÁGINA -->
    <style>
        /* Estilos específicos da página imagem.html */
        body {
            background-color: var(--bg-primary);
            background-image: 
                radial-gradient(circle at 15% 25%, rgba(59, 130, 246, 0.1), transparent 40%),
                radial-gradient(circle at 85% 75%, rgba(139, 92, 246, 0.1), transparent 40%);
        }
        
        .container {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
            padding: var(--spacing-md);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            width: 100%;
            max-width: 600px;
            margin-bottom: var(--spacing-xl);
            padding-top: var(--spacing-lg);
        }

        .main-title {
            font-size: clamp(2.5rem, 6vw, 3.5rem);
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: var(--spacing-md);
            text-align: center;
            font-family: 'Inter', sans-serif;
            background: var(--gradient-accent);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            color: var(--text-primary);
        }

        .palpites-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            border: 1px solid var(--border-color);
            transition: all var(--transition-normal);
            position: relative;
            overflow: hidden;
            width: 100%;
            max-width: 700px;
        }

        .palpites-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
            opacity: 0.8;
        }

        .palpites-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
            border-color: var(--border-accent);
        }

        .card-subtitle {
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--spacing-md);
            font-family: 'Inter', sans-serif;
        }

        .palpite-row {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
            flex-wrap: wrap;
            padding: var(--spacing-md);
            background: var(--bg-card);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
        }

        .palpite-row .select-group-btn {
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            background: var(--gradient-primary);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            white-space: nowrap;
            transition: all var(--transition-normal);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .palpite-row .select-group-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .palpite-row .group-info {
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.9rem;
            margin-right: var(--spacing-sm);
        }

        .palpite-row .input-xy-container {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }

        .palpite-row .input-xy {
            display: flex;
            align-items: center;
            gap: 2px;
            background: var(--bg-secondary);
            border-radius: var(--radius-sm);
            padding: 2px;
        }

        .palpite-row .input-x, .palpite-row .input-y {
            width: 35px;
            height: 35px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            text-align: center;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .palpite-row .input-x {
            background-color: var(--bg-card);
        }

        .palpite-row .input-y {
            background-color: var(--bg-primary);
            cursor: not-allowed;
            border: none;
            color: var(--accent-success);
        }

        .palpite-row .clear-btn {
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            white-space: nowrap;
            transition: all var(--transition-normal);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .palpite-row .clear-btn:hover {
            background-color: var(--bg-card-hover);
            border-color: var(--border-accent);
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: var(--spacing-md);
            margin-top: var(--spacing-xl);
            flex-wrap: wrap;
        }

        .action-buttons .btn {
            padding: var(--spacing-md) var(--spacing-xl);
            border-radius: var(--radius-md);
            background: var(--gradient-primary);
            color: white;
            border: none;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-normal);
            text-decoration: none;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .action-buttons .btn.secondary {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .action-buttons .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl), var(--shadow-glow);
        }

        /* Modal de seleção de grupo */
        .modal-group-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .modal-group-list li {
            padding: var(--spacing-sm) var(--spacing-md);
            border-bottom: 1px solid var(--border-color);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .modal-group-list li:last-child {
            border-bottom: none;
        }

        .modal-group-list li:hover {
            background-color: var(--bg-card-hover);
        }

        /* Estilos para a imagem gerada no modal de visualização */
        .generated-image-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .generated-image-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        /* Modal de visualização da imagem */
        .image-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .image-modal-content {
            position: relative;
            background-color: var(--bg-card);
            margin: 2% auto;
            padding: 0;
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 800px;
            height: 80vh;
            box-shadow: var(--shadow-2xl);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .image-modal-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bg-secondary);
        }

        .image-modal-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0;
        }

        .image-modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            padding: var(--spacing-xs);
            border-radius: var(--radius-sm);
            transition: all var(--transition-normal);
        }

        .image-modal-close:hover {
            background-color: var(--bg-card-hover);
            color: var(--text-primary);
        }

        .image-modal-body {
            padding: var(--spacing-lg) var(--spacing-md);
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: auto;
        }

        .image-modal-body img {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
        }

        .image-modal-footer {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--border-color);
            background: var(--bg-secondary);
            display: flex;
            justify-content: center;
            gap: var(--spacing-md);
        }

        .image-modal-footer .btn {
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            white-space: nowrap;
            transition: all var(--transition-normal);
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            min-width: 120px;
        }

        .image-modal-footer .btn:hover {
            background-color: var(--bg-card-hover);
            border-color: var(--border-accent);
            transform: translateY(-1px);
        }

        /* Estilos para o footer */
        .site-footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding: var(--spacing-lg) 0;
            margin-top: var(--spacing-2xl);
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-md);
        }

        .footer-logo {
            max-width: 100px;
            height: auto;
            margin-bottom: var(--spacing-md);
        }

        .site-domain, .copyright-text {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin: var(--spacing-xs) 0;
        }

        /* Responsividade melhorada */
        @media (max-width: 767px) {
            .main-title { 
                font-size: clamp(1.8rem, 5vw, 2.2rem); 
                margin-bottom: var(--spacing-lg);
            }
            
            .card-subtitle {
                font-size: clamp(1.2rem, 3.5vw, 1.4rem);
                margin-bottom: var(--spacing-lg);
            }
            
            .palpites-card {
                padding: var(--spacing-md);
                margin-bottom: var(--spacing-lg);
            }
            
            .palpite-row {
                flex-direction: column;
                align-items: stretch;
                gap: var(--spacing-md);
                padding: var(--spacing-md);
            }

            .palpite-row .select-group-btn, 
            .palpite-row .clear-btn {
                width: 100%;
                padding: var(--spacing-md);
                font-size: 1rem;
                margin-bottom: var(--spacing-sm);
            }

            .palpite-row .group-info {
                text-align: center;
                margin: 0;
                font-size: 1rem;
                margin-bottom: var(--spacing-sm);
            }

            .palpite-row .input-xy-container {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: var(--spacing-sm);
                width: 100%;
            }

            .palpite-row .input-xy {
                justify-content: center;
                padding: var(--spacing-sm);
                background: var(--bg-secondary);
                border-radius: var(--radius-md);
            }

            .palpite-row .input-x, 
            .palpite-row .input-y {
                width: 45px;
                height: 45px;
                font-size: 1rem;
                font-weight: 700;
            }

            .action-buttons {
                flex-direction: column;
                gap: var(--spacing-md);
                margin-top: var(--spacing-lg);
            }

            .action-buttons .btn {
                width: 100%;
                padding: var(--spacing-lg);
                font-size: 1rem;
                letter-spacing: 0.3px;
            }

            /* Modal responsivo */
            .modal-content {
                width: 95%;
                max-width: none;
                margin: var(--spacing-sm);
            }

            .modal-body {
                padding: var(--spacing-md);
                max-height: 70vh;
            }

            .modal-group-list li {
                padding: var(--spacing-md);
                font-size: 0.9rem;
                line-height: 1.4;
            }

            /* Modal de imagem responsivo */
            .image-modal-content {
                width: 95%;
                max-width: none;
                margin: var(--spacing-sm);
                height: 90vh;
            }

            .image-modal-header {
                padding: var(--spacing-sm);
            }

            .image-modal-title {
                font-size: 1.1rem;
            }

            .image-modal-body {
                padding: var(--spacing-md);
            }

            .image-modal-footer {
                padding: var(--spacing-md);
                flex-direction: row;
                gap: var(--spacing-sm);
            }

            .image-modal-footer .btn {
                width: 100%;
                min-width: auto;
                padding: var(--spacing-md);
                font-size: 0.95rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: var(--spacing-sm);
            }
            
            .main-title {
                font-size: clamp(1.5rem, 4vw, 1.8rem);
                margin-bottom: var(--spacing-md);
            }
            
            .card-subtitle {
                font-size: clamp(1rem, 3vw, 1.2rem);
                margin-bottom: var(--spacing-md);
            }
            
            .palpites-card {
                padding: var(--spacing-sm);
                margin-bottom: var(--spacing-md);
            }
            
            .palpite-row {
                padding: var(--spacing-sm);
                gap: var(--spacing-sm);
            }

            .palpite-row .input-x, 
            .palpite-row .input-y {
                width: 40px;
                height: 40px;
                font-size: 0.9rem;
            }

            .action-buttons .btn {
                padding: var(--spacing-md);
                font-size: 0.9rem;
            }

            /* Modal de imagem extra pequeno */
            .image-modal-content {
                width: 98%;
                height: 95vh;
                margin: 1%;
            }

            .image-modal-header {
                padding: var(--spacing-xs);
            }

            .image-modal-title {
                font-size: 1rem;
            }

            .image-modal-body {
                padding: var(--spacing-sm);
            }

            .image-modal-footer {
                padding: var(--spacing-sm);
                flex-direction: column;
                gap: var(--spacing-xs);
            }

            .image-modal-footer .btn {
                padding: var(--spacing-sm);
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="main-title">CRIE UMA IMAGEM DE DIVULGAÇÃO</h1>
        </div>

        <div class="palpites-card">
            <h2 class="card-subtitle">Configure seus palpites</h2>
            
            <!-- Palpite 1 -->
            <div class="palpite-row">
                <button class="select-group-btn" onclick="openGroupModal(1)">Selecionar Grupo</button>
                <span class="group-info" id="group-info-1">Nenhum grupo selecionado</span>
                <div class="input-xy-container">
                    <div class="input-xy">
                        <input type="number" class="input-x" id="input-x-1" min="0" max="99" placeholder="00">
                        <span class="input-y" id="input-y-1">00</span>
                    </div>
                </div>
                <button class="clear-btn" onclick="clearPalpite(1)">Limpar</button>
            </div>

            <!-- Palpite 2 -->
            <div class="palpite-row">
                <button class="select-group-btn" onclick="openGroupModal(2)">Selecionar Grupo</button>
                <span class="group-info" id="group-info-2">Nenhum grupo selecionado</span>
                <div class="input-xy-container">
                    <div class="input-xy">
                        <input type="number" class="input-x" id="input-x-2" min="0" max="99" placeholder="00">
                        <span class="input-y" id="input-y-2">00</span>
                    </div>
                </div>
                <button class="clear-btn" onclick="clearPalpite(2)">Limpar</button>
            </div>

            <!-- Palpite 3 -->
            <div class="palpite-row">
                <button class="select-group-btn" onclick="openGroupModal(3)">Selecionar Grupo</button>
                <span class="group-info" id="group-info-3">Nenhum grupo selecionado</span>
                <div class="input-xy-container">
                    <div class="input-xy">
                        <input type="number" class="input-x" id="input-x-3" min="0" max="99" placeholder="00">
                        <span class="input-y" id="input-y-3">00</span>
                    </div>
                </div>
                <button class="clear-btn" onclick="clearPalpite(3)">Limpar</button>
            </div>

            <!-- Palpite 4 -->
            <div class="palpite-row">
                <button class="select-group-btn" onclick="openGroupModal(4)">Selecionar Grupo</button>
                <span class="group-info" id="group-info-4">Nenhum grupo selecionado</span>
                <div class="input-xy-container">
                    <div class="input-xy">
                        <input type="number" class="input-x" id="input-x-4" min="0" max="99" placeholder="00">
                        <span class="input-y" id="input-y-4">00</span>
                    </div>
                </div>
                <button class="clear-btn" onclick="clearPalpite(4)">Limpar</button>
            </div>

            <!-- Palpite 5 -->
            <div class="palpite-row">
                <button class="select-group-btn" onclick="openGroupModal(5)">Selecionar Grupo</button>
                <span class="group-info" id="group-info-5">Nenhum grupo selecionado</span>
                <div class="input-xy-container">
                    <div class="input-xy">
                        <input type="number" class="input-x" id="input-x-5" min="0" max="99" placeholder="00">
                        <span class="input-y" id="input-y-5">00</span>
                    </div>
                </div>
                <button class="clear-btn" onclick="clearPalpite(5)">Limpar</button>
            </div>

            <div class="action-buttons">
                <button class="btn" onclick="generateImage()">Gerar Imagem</button>
                <button class="btn secondary" onclick="previewImage()">Visualizar</button>
            </div>
        </div>
    </div>

    <!-- Modal de seleção de grupo -->
    <div id="groupModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Selecionar Grupo</h3>
                <button class="close-btn" onclick="closeGroupModal()">&times;</button>
            </div>
            <div class="modal-body">
                <ul class="modal-group-list" id="groupList">
                    <!-- Lista de grupos será preenchida dinamicamente -->
                </ul>
            </div>
        </div>
    </div>

    <!-- Modal de visualização da imagem -->
    <div id="imageModal" class="image-modal">
        <div class="image-modal-content">
            <div class="image-modal-header">
                <h3 class="image-modal-title">Visualização da Imagem</h3>
                <button class="image-modal-close" onclick="closeImageModal()">&times;</button>
            </div>
            <div class="image-modal-body">
                <div class="generated-image-container">
                    <img id="generatedImage" src="" alt="Imagem gerada" style="display: none;">
                </div>
            </div>
            <div class="image-modal-footer">
                <button class="btn" onclick="downloadImage()">Download</button>
                <button class="btn" onclick="shareImage()">Compartilhar</button>
            </div>
        </div>
    </div>

    <script>
        // Dados dos grupos do jogo do bicho
        const grupos = [
            { id: 1, nome: "Avestruz", numeros: ["01", "02", "03", "04"] },
            { id: 2, nome: "Águia", numeros: ["05", "06", "07", "08"] },
            { id: 3, nome: "Burro", numeros: ["09", "10", "11", "12"] },
            { id: 4, nome: "Borboleta", numeros: ["13", "14", "15", "16"] },
            { id: 5, nome: "Cachorro", numeros: ["17", "18", "19", "20"] },
            { id: 6, nome: "Cabra", numeros: ["21", "22", "23", "24"] },
            { id: 7, nome: "Carneiro", numeros: ["25", "26", "27", "28"] },
            { id: 8, nome: "Camelo", numeros: ["29", "30", "31", "32"] },
            { id: 9, nome: "Cobra", numeros: ["33", "34", "35", "36"] },
            { id: 10, nome: "Coelho", numeros: ["37", "38", "39", "40"] },
            { id: 11, nome: "Cavalo", numeros: ["41", "42", "43", "44"] },
            { id: 12, nome: "Elefante", numeros: ["45", "46", "47", "48"] },
            { id: 13, nome: "Galo", numeros: ["49", "50", "51", "52"] },
            { id: 14, nome: "Gato", numeros: ["53", "54", "55", "56"] },
            { id: 15, nome: "Jacaré", numeros: ["57", "58", "59", "60"] },
            { id: 16, nome: "Leão", numeros: ["61", "62", "63", "64"] },
            { id: 17, nome: "Macaco", numeros: ["65", "66", "67", "68"] },
            { id: 18, nome: "Porco", numeros: ["69", "70", "71", "72"] },
            { id: 19, nome: "Pavão", numeros: ["73", "74", "75", "76"] },
            { id: 20, nome: "Peru", numeros: ["77", "78", "79", "80"] },
            { id: 21, nome: "Touro", numeros: ["81", "82", "83", "84"] },
            { id: 22, nome: "Tigre", numeros: ["85", "86", "87", "88"] },
            { id: 23, nome: "Urso", numeros: ["89", "90", "91", "92"] },
            { id: 24, nome: "Veado", numeros: ["93", "94", "95", "96"] },
            { id: 25, nome: "Vaca", numeros: ["97", "98", "99", "00"] }
        ];

        let currentPalpiteIndex = 0;

        // Função para abrir o modal de seleção de grupo
        function openGroupModal(palpiteIndex) {
            currentPalpiteIndex = palpiteIndex;
            const modal = document.getElementById('groupModal');
            const groupList = document.getElementById('groupList');
            
            // Limpar lista anterior
            groupList.innerHTML = '';
            
            // Preencher lista de grupos
            grupos.forEach(grupo => {
                const li = document.createElement('li');
                li.textContent = `${grupo.id.toString().padStart(2, '0')} - ${grupo.nome} (${grupo.numeros.join(', ')})`;
                li.onclick = () => selectGroup(grupo);
                groupList.appendChild(li);
            });
            
            modal.style.display = 'flex';
            document.body.classList.add('modal-open');
        }

        // Função para fechar o modal de seleção de grupo
        function closeGroupModal() {
            const modal = document.getElementById('groupModal');
            modal.style.display = 'none';
            document.body.classList.remove('modal-open');
        }

        // Função para selecionar um grupo
        function selectGroup(grupo) {
            const groupInfo = document.getElementById(`group-info-${currentPalpiteIndex}`);
            const inputY = document.getElementById(`input-y-${currentPalpiteIndex}`);
            
            groupInfo.textContent = `${grupo.id.toString().padStart(2, '0')} - ${grupo.nome}`;
            inputY.textContent = grupo.id.toString().padStart(2, '0');
            
            closeGroupModal();
        }

        // Função para limpar um palpite
        function clearPalpite(index) {
            const groupInfo = document.getElementById(`group-info-${index}`);
            const inputX = document.getElementById(`input-x-${index}`);
            const inputY = document.getElementById(`input-y-${index}`);
            
            groupInfo.textContent = 'Nenhum grupo selecionado';
            inputX.value = '';
            inputY.textContent = '00';
        }

        // Função para gerar a imagem
        function generateImage() {
            // Coletar dados dos palpites
            const palpites = [];
            for (let i = 1; i <= 5; i++) {
                const inputX = document.getElementById(`input-x-${i}`);
                const inputY = document.getElementById(`input-y-${i}`);
                const groupInfo = document.getElementById(`group-info-${i}`);
                
                if (inputX.value && inputY.textContent !== '00') {
                    palpites.push({
                        x: inputX.value.padStart(2, '0'),
                        y: inputY.textContent,
                        grupo: groupInfo.textContent
                    });
                }
            }
            
            if (palpites.length === 0) {
                alert('Por favor, configure pelo menos um palpite antes de gerar a imagem.');
                return;
            }
            
            // Aqui você implementaria a lógica de geração da imagem
            console.log('Gerando imagem com os palpites:', palpites);
            alert('Funcionalidade de geração de imagem será implementada em breve!');
        }

        // Função para visualizar a imagem
        function previewImage() {
            // Coletar dados dos palpites
            const palpites = [];
            for (let i = 1; i <= 5; i++) {
                const inputX = document.getElementById(`input-x-${i}`);
                const inputY = document.getElementById(`input-y-${i}`);
                const groupInfo = document.getElementById(`group-info-${i}`);
                
                if (inputX.value && inputY.textContent !== '00') {
                    palpites.push({
                        x: inputX.value.padStart(2, '0'),
                        y: inputY.textContent,
                        grupo: groupInfo.textContent
                    });
                }
            }
            
            if (palpites.length === 0) {
                alert('Por favor, configure pelo menos um palpite antes de visualizar.');
                return;
            }
            
            // Simular uma imagem de preview (substitua pela lógica real)
            const imageModal = document.getElementById('imageModal');
            const generatedImage = document.getElementById('generatedImage');
            
            // Aqui você colocaria a URL da imagem gerada
            // Por enquanto, vamos usar uma imagem placeholder
            generatedImage.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtc2l6ZT0iMTgiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5QcmV2aWV3IGRhIEltYWdlbTwvdGV4dD48L3N2Zz4=';
            generatedImage.style.display = 'block';
            
            imageModal.style.display = 'block';
            document.body.classList.add('modal-open');
            
            console.log('Visualizando imagem com os palpites:', palpites);
        }

        // Função para fechar o modal de visualização da imagem
        function closeImageModal() {
            const imageModal = document.getElementById('imageModal');
            imageModal.style.display = 'none';
            document.body.classList.remove('modal-open');
        }

        // Função para fazer download da imagem
        function downloadImage() {
            const generatedImage = document.getElementById('generatedImage');
            if (generatedImage.src) {
                const link = document.createElement('a');
                link.download = 'palpite-imagem.png';
                link.href = generatedImage.src;
                link.click();
            }
        }

        // Função para compartilhar a imagem
        function shareImage() {
            if (navigator.share) {
                navigator.share({
                    title: 'Meus Palpites - 77x Brasil',
                    text: 'Confira meus palpites para o jogo!',
                    url: window.location.href
                });
            } else {
                // Fallback para navegadores que não suportam Web Share API
                const url = window.location.href;
                navigator.clipboard.writeText(url).then(() => {
                    alert('Link copiado para a área de transferência!');
                });
            }
        }

        // Fechar modais ao clicar fora deles
        window.onclick = function(event) {
            const groupModal = document.getElementById('groupModal');
            const imageModal = document.getElementById('imageModal');
            
            if (event.target === groupModal) {
                closeGroupModal();
            }
            
            if (event.target === imageModal) {
                closeImageModal();
            }
        }

        // Adicionar eventos de input para formatação automática
        document.addEventListener('DOMContentLoaded', function() {
            for (let i = 1; i <= 5; i++) {
                const inputX = document.getElementById(`input-x-${i}`);
                
                inputX.addEventListener('input', function() {
                    let value = this.value;
                    
                    // Remover caracteres não numéricos
                    value = value.replace(/\D/g, '');
                    
                    // Limitar a 2 dígitos
                    if (value.length > 2) {
                        value = value.slice(0, 2);
                    }
                    
                    this.value = value;
                });
                
                inputX.addEventListener('blur', function() {
                    if (this.value) {
                        this.value = this.value.padStart(2, '0');
                    }
                });
            }
        });
    </script>
</body>
</html>

